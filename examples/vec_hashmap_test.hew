// Vec and HashMap test
// Exercises the core collection types from Hew programs
fn test_vec() -> i32 {
    let v: Vec<i32> = Vec::new();
    v.push(10);
    v.push(20);
    v.push(30);
    let len = v.len();
    let first = v.get(0);
    let second = v.get(1);
    let last = v.pop();
    println(first); // 10
    println(second); // 20
    println(last); // 30
    println(len); // 3

    // After pop, len should be 2
    let len2 = v.len();
    println(len2); // 2
    first + second + last
}

fn test_hashmap() -> i64 {
    let m: HashMap<String, i64> = HashMap::new();
    m.insert("one", 1);
    m.insert("two", 2);
    m.insert("three", 3);
    let one = match m.get("one") {
        Some(v) => v,
        None => 0,
    };
    let two = match m.get("two") {
        Some(v) => v,
        None => 0,
    };
    let has_three = m.contains_key("three");
    let has_four = m.contains_key("four");
    let len = m.len();
    println(one); // 1
    println(two); // 2
    println(len); // 3
    m.remove("two");
    let len2 = m.len();
    println(len2); // 2
    one + two
}

fn main() {
    println("=== Vec Test ===");
    let vec_result = test_vec();
    println(vec_result); // 60
    println("=== HashMap Test ===");
    let map_result = test_hashmap();
    println(map_result); // 3
}
