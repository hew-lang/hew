// Test: Longest Common Subsequence (LeetCode #1143)
// Exercises: Recursion, Vec operations, comparison
fn lcs_recursive(s1: Vec<int>, s2: Vec<int>, i: int, j: int) -> int {
    if i == 0 {
        return 0;
    }
    if j == 0 {
        return 0;
    }
    if s1.get(i - 1) == s2.get(j - 1) {
        return lcs_recursive(s1, s2, i - 1, j - 1) + 1;
    }
    let a = lcs_recursive(s1, s2, i - 1, j);
    let b = lcs_recursive(s1, s2, i, j - 1);
    if a > b {
        a
    } else {
        b
    }
}

fn main() -> int {
    println("=== Longest Common Subsequence ===");

    // s1 = [1, 3, 4, 1, 2], s2 = [1, 4, 2]  -> LCS = 3 (1,4,2)
    let s1: Vec<int> = Vec::new();
    s1.push(1);
    s1.push(3);
    s1.push(4);
    s1.push(1);
    s1.push(2);
    let s2: Vec<int> = Vec::new();
    s2.push(1);
    s2.push(4);
    s2.push(2);
    let r1 = lcs_recursive(s1, s2, 5, 3);
    println(f"LCS([1,3,4,1,2], [1,4,2]) = {r1}");

    // s3 = [1, 2, 3], s4 = [4, 5, 6] -> LCS = 0
    let s3: Vec<int> = Vec::new();
    s3.push(1);
    s3.push(2);
    s3.push(3);
    let s4: Vec<int> = Vec::new();
    s4.push(4);
    s4.push(5);
    s4.push(6);
    let r2 = lcs_recursive(s3, s4, 3, 3);
    println(f"LCS([1,2,3], [4,5,6]) = {r2}");
    if r1 == 3 {
        if r2 == 0 {
            println("PASS");
            0
        } else {
            println("FAIL");
            1
        }
    } else {
        println("FAIL");
        1
    }
}
