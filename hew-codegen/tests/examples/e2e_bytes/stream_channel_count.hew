import std::stream;

fn main() {
    let (sink, input) = stream.channel(4);

    sink.close();

    var count: int = 0;
    for await item in input {
        count = (count + 1) as int;
    }
    println(count);
}
