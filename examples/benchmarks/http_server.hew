import std::net::http;

fn main() {
    let server = http.listen("0.0.0.0:18080");
    println("Listening on 0.0.0.0:18080");

    loop {
        let req = server.accept();
        let path = req.path();
        match path {
            "/" => { req.respond_text(200, "Hello from Hew!"); },
            "/health" => { req.respond_text(200, "OK"); },
            _ => { req.respond_text(404, "Not Found"); },
        };
    }
}
